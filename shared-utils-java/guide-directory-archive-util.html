
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 19 Feb 2016
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Directory Archive Util Guide | Deventropy Shared Utils :: Java</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />
 
		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/cosmo/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="..//css/bootswatch.css" rel="stylesheet" />
		<link href="..//css/reflow-skin.css" rel="stylesheet" />

		<link href="http://yandex.st/highlightjs/7.5/styles/github.min.css" rel="stylesheet" />

		<link href="..//css/lightbox.css" rel="stylesheet" />

		<link href="..//css/site.css" rel="stylesheet" />
		<link href="..//css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<link rel="author" href="http://blog.bindul.name/"/>
	</head>

	<body class="page-guide-directory-archive-util project-shared-utils-java" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="">Deventropy <span class="color-highlight">Shared Utils</span></a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li ><a href="../../" title="Development Entropy">Development Entropy</a></li>
							<li ><a href="https://github.com/deventropy/shared-utils" title="Shared Utils @ GitHub" class="externalLink">Shared Utils @ GitHub</a></li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Modules <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="./" title="Deventropy Shared Utils :: Java">Deventropy Shared Utils :: Java</a></li>
								</ul>
							</li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Shared Utils <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="index.html" title="Home">Home</a></li>
									<li ><a href="resource-location-formats.html" title="URL Resource Formats">URL Resource Formats</a></li>
									<li class="active"><a href="" title="Directory Archive Util Guide">Directory Archive Util Guide</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Development <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../../development.html" title="Development Guide">Development Guide</a></li>
									<li ><a href="https://github.com/deventropy/shared-utils/issues" title="Issues" class="externalLink">Issues</a></li>
									<li ><a href="https://github.com/deventropy/shared-utils#fork-destination-box" title="Fork on GitHub" class="externalLink">Fork on GitHub</a></li>
									<li ><a href="https://travis-ci.org/deventropy/shared-utils" title="Continuous Integration" class="externalLink">Continuous Integration</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<a href="./" id="bannerLeft"><h1>Deventropy <span class="color-highlight">Shared Utils Java</span></h1></a>
					<p class="lead">Shared classes for Deventropy projects</p>
				</div>
				<div class="pull-right">
				</div>
			</div>
		</div>
	</div>
		<div>
			<ul class="breadcrumb">
				<li><a href="../" title="Deventropy Shared Utils">Deventropy Shared Utils</a></li>
				<li class="divider">/</li>
				<li><a href="./" title="Deventropy Shared Utils :: Java">Deventropy Shared Utils :: Java</a></li>
				<li class="divider">/</li>
				<li>Directory Archive Util Guide</li>
			</ul>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span8">
			<div class="body-content">
<!-- Copyright 2016 Development Entropy (deventropy.org) Contributors

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License. --> 
<div class="page-header">
 <h1 id="directory_archive_util_guide">Directory Archive Util Guide</h1>
</div> 
<p>This utility class (<tt>DirectoryArchiverUtil</tt>) providing convenience methods to create Zip/Jar/Tar/GZipped Tar archives for entire directories. The functionality implemented in this class is rudimentary at this time, and does not support:</p> 
<ul> 
 <li>Compression Level</li> 
 <li>Compression Method</li> 
 <li>Advanced manifest manipulation (Jar files)</li> 
 <li>Jar signing</li> 
 <li>Filtering files out</li> 
</ul> 
<div class="section"> 
 <div class="section"> 
  <h3 id="Apache_Commons_Compress_Dependency">Apache Commons Compress Dependency</h3> 
  <p>Using this class requires an additional dependency <i>org.apache.commons:commons-compress</i> to be declared in your project. At the time of writing, the project has been tested with version <tt>1.10</tt> of Commons Compress. All versions of Commons Compress should work, except of course the different compression behaviors have changed in Commons Compress across its versions. See the following pages for such specific behaviors: * <a class="externalLink" href="http://commons.apache.org/proper/commons-compress/tar.html">Tar package</a> * <a class="externalLink" href="http://commons.apache.org/proper/commons-compress/zip.html">Zip package</a></p> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Creating_a_Zip_Archive">Creating a Zip Archive</h2> 
 <p>To create a zip archive from a directory <tt>/project/data/source</tt> into a file <tt>/project/data/source.zip</tt>, use the <a href="./apidocs/org/deventropy/shared/utils/DirectoryArchiverUtil.html#createJarArchiveOfDirectory-java.lang.String-java.io.File-java.lang.String-">createZipArchiveOfDirectory(String, File, String)</a> method as:</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>DirectoryArchiverUtil.createJarArchiveOfDirectory(&quot;/project/data/source&quot;, &quot;/project/data/source.zip&quot;, null);
</pre> 
  </div> 
 </div> 
 <p>This will archive all the contents of the source folder recursively in the zip file created. Immediate children of the source folder will be at the root of the zip file. The current implementation does not traverse down symbolic links, and they will be excluded.</p> 
 <p>The Zip file will be created with <tt>UTF-8</tt> encoding.</p> 
 <div class="section"> 
  <h3 id="Nesting_contents_in_the_archive">Nesting contents in the archive</h3> 
  <p>The implementation supports nesting contents from the source one or more directories down in the archive file created. Working on the example above, if the code were invoked as:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>DirectoryArchiverUtil.createJarArchiveOfDirectory(&quot;/project/data/source&quot;, &quot;/project/data/source.zip&quot;, &quot;test/one&quot;);
</pre> 
   </div> 
  </div> 
  <p>This will cause any files or directories which were immediate children of the source folder to appear nested under directories <tt>test/one</tt> in the archive (or when the archive is inflated). So <tt>/project/data/source/file.txt</tt> will appear at <tt>test/one/file.txt</tt> in the archive.</p> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Creating_a_Jar_Archive">Creating a Jar Archive</h2> 
 <p>Jar files are created almost identical to the Zip files above, with the additional functionality of a very rudimentary Manifest (<tt>META-INF/MANIFEST.MF</tt>) file is added to the archive with just the Manifest Version property set.</p> 
 <p>To create Jar files, use the <a href="./apidocs/org/deventropy/shared/utils/DirectoryArchiverUtil.html#createZipArchiveOfDirectory-java.lang.String-java.io.File-java.lang.String-">createJarArchiveOfDirectory(String, File, String)</a> method instead.</p> 
</div> 
<div class="section"> 
 <h2 id="Creating_a_Tar_Archive">Creating a Tar Archive</h2> 
 <p>To create a tar archive from a directory <tt>/project/data/source</tt> into a file <tt>/project/data/source.tar</tt>, use the <a href="./apidocs/org/deventropy/shared/utils/DirectoryArchiverUtil.html#createTarArchiveOfDirectory-java.lang.String-java.io.File-java.lang.String-">createTarArchiveOfDirectory(String, File, String)</a> method as:</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>DirectoryArchiverUtil.createTarArchiveOfDirectory(&quot;/project/data/source&quot;, &quot;/project/data/source.tar&quot;, null);
</pre> 
  </div> 
 </div> 
 <p>This will archive all the contents of the source folder recursively in the tar file created. Immediate children of the source folder will be at the root of the tar file. The current implementation does not traverse down symbolic links, and they will be excluded.</p> 
 <p>The tar file will be created with the following additional tar features: * Uses the platform default character encoding * Uses a PAX extended header as defined by POSIX 1003.1 for long file names * PAX extension headers will be written for non-ASCII file names</p> 
 <div class="section"> 
  <h3 id="Nesting_contents_in_the_archive">Nesting contents in the archive</h3> 
  <p>The implementation supports nesting contents from the source one or more directories down in the archive file created. Working on the example above, if the code were invoked as:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>DirectoryArchiverUtil.createTarArchiveOfDirectory(&quot;/project/data/source&quot;, &quot;/project/data/source.tar&quot;, &quot;test/one&quot;);
</pre> 
   </div> 
  </div> 
  <p>This will cause any files or directories which were immediate children of the source folder to appear nested under directories <tt>test/one</tt> in the archive (or when the archive is inflated). So <tt>/project/data/source/file.txt</tt> will appear at <tt>test/one/file.txt</tt> in the archive.</p> 
 </div> 
</div> 
<div class="section"> 
 <h2 id="Creating_a_GZipped_Tar_Archive">Creating a GZipped Tar Archive</h2> 
 <p>The utility can optionally <tt>GZip</tt> compress a tar file created as above. To get GZip compressed tar files, use the <a href="./apidocs/org/deventropy/shared/utils/DirectoryArchiverUtil.html#createGZippedTarArchiveOfDirectory-java.lang.String-java.io.File-java.lang.String-">createGZippedTarArchiveOfDirectory(String, File, String)</a> method as:</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>// Without nesting content
DirectoryArchiverUtil.createGZippedTarArchiveOfDirectory(&quot;/project/data/source&quot;, &quot;/project/data/source.tar&quot;, null);
// Nesting content in sub dirs
DirectoryArchiverUtil.createGZippedTarArchiveOfDirectory(&quot;/project/data/source&quot;, &quot;/project/data/source.tar&quot;, &quot;test/one&quot;);
</pre> 
  </div> 
 </div> 
</div>
			</div>
		</div>
		<div class="span4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li class="dropdown"><a href="#directory_archive_util_guide" title="Directory Archive Util Guide">Directory Archive Util Guide <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Apache_Commons_Compress_Dependency" title="Apache Commons Compress Dependency">Apache Commons Compress Dependency</a>
		<li class="dropdown"><a href="#Creating_a_Zip_Archive" title="Creating a Zip Archive">Creating a Zip Archive <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Nesting_contents_in_the_archive" title="Nesting contents in the archive">Nesting contents in the archive</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li><a href="#Creating_a_Jar_Archive" title="Creating a Jar Archive">Creating a Jar Archive</a>
		<li class="dropdown"><a href="#Creating_a_Tar_Archive" title="Creating a Tar Archive">Creating a Tar Archive <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Nesting_contents_in_the_archive" title="Nesting contents in the archive">Nesting contents in the archive</a>
				<li class="divider"></li>
			</ul>
		</li>
		<li><a href="#Creating_a_GZipped_Tar_Archive" title="Creating a GZipped Tar Archive">Creating a GZipped Tar Archive</a>
				<li class="divider"></li>
			</ul>
		</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Main</li>
						<li >
							<a href="../" title="Home">Home</a>
						</li>
						<li >
							<a href="https://github.com/deventropy/shared-utils" title="GitHub project" class="externalLink">GitHub project</a>
						</li>
						<li class="nav-header">Shared Utils</li>
						<li >
							<a href="index.html" title="Home">Home</a>
						</li>
						<li >
							<a href="resource-location-formats.html" title="URL Resource Formats">URL Resource Formats</a>
						</li>
						<li class="active">
							<a href="#" title="Directory Archive Util Guide">Directory Archive Util Guide</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Modules</li>
						<li >
							<a href="./" title="Deventropy Shared Utils :: Java">Deventropy Shared Utils :: Java</a>
						</li>
						<li class="nav-header">Development</li>
						<li >
							<a href="../../development.html" title="Development Guide">Development Guide</a>
						</li>
						<li >
							<a href="https://github.com/deventropy/shared-utils/issues" title="Issues" class="externalLink">Issues</a>
						</li>
						<li >
							<a href="https://github.com/deventropy/shared-utils#fork-destination-box" title="Fork on GitHub" class="externalLink">Fork on GitHub</a>
						</li>
						<li >
							<a href="https://travis-ci.org/deventropy/shared-utils" title="Continuous Integration" class="externalLink">Continuous Integration</a>
						</li>
						<li class="nav-header">Legal</li>
						<li >
							<a href="../license.html" title="License">License</a>
						</li>
						<li >
							<a href="../../privacy.html" title="Privacy Policy">Privacy Policy</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Maven documentation</li>
						<li >
							<a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
						</li>
						<li >
							<a href="project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote>Deventropy <span class="color-highlight">Shared Utils</span> has shared classes and functionality
		          used by one or more Deventropy projects.</blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2016 <a href="http://www.deventropy.org/">Development Entropy Projects</a>. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 1.0-alpha.1-SNAPSHOT. </span><span class="publishDate">Last Published: 19 Feb 2016. </span></p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="..//js/lightbox.min.js"></script>
	<script src="..//js/reflow-scroll.js"></script>
	<script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>

	<script src="..//js/reflow-skin.js"></script>

	</body>
</html>
